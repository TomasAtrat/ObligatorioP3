@model IEnumerable<CommonSolution.Dto.DtoReclamo>

@{
    ViewBag.Title = "Listar reclamos";
}

<div class="starter-template" style="margin-top: -20px">
    <h1>Visor de reclamos</h1>
    <hr />
    <p class="lead">Haz click en cada marcador para saber información del reclamo</p>
</div>

@Html.Partial("Mapa")

<span>Filtrar por estado: </span>
@Html.ActionLink("PENDIENTE", "ListarPorEstado", new { estado = "PENDIENTE" }) |
@Html.ActionLink("ASIGNADO", "ListarPorEstado", new { estado = "ASIGNADO" }) |
@Html.ActionLink("EN PROCESO", "ListarPorEstado", new { estado = "EN_PROCESO" }) |
@Html.ActionLink("RESUELTO", "ListarPorEstado", new { estado = "RESUELTO" }) |
@Html.ActionLink("DESESTIMADO", "ListarPorEstado", new { estado = "DESESTIMADO" }) |
@Html.ActionLink("TODOS LOS RECLAMOS", "Listar")
<br />
<br />
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FechaHoraIngreso)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Estado)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Observaciones)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IDZona)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IDCuadrilla)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.ID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FechaHoraIngreso)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Estado)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Observaciones)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IDZona)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IDCuadrilla)
            </td>
            <td>
                <a href="@Url.Action("VerHistorico", "Reclamo", new { id = item.ID })" title="Ver histórico">
                    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="40px" viewBox="0 0 24 24" width="40px" fill="#000000"><g><rect fill="none" height="40" width="40" /></g><g><g><path d="M9,4v1.38c-0.83-0.33-1.72-0.5-2.61-0.5c-1.79,0-3.58,0.68-4.95,2.05l3.33,3.33h1.11v1.11c0.86,0.86,1.98,1.31,3.11,1.36 V15H6v3c0,1.1,0.9,2,2,2h10c1.66,0,3-1.34,3-3V4H9z M7.89,10.41V8.26H5.61L4.57,7.22C5.14,7,5.76,6.88,6.39,6.88 c1.34,0,2.59,0.52,3.54,1.46l1.41,1.41l-0.2,0.2c-0.51,0.51-1.19,0.8-1.92,0.8C8.75,10.75,8.29,10.63,7.89,10.41z M19,17 c0,0.55-0.45,1-1,1s-1-0.45-1-1v-2h-6v-2.59c0.57-0.23,1.1-0.57,1.56-1.03l0.2-0.2L15.59,14H17v-1.41l-6-5.97V6h8V17z" /></g></g></svg>
                </a> |
                <a href="@Url.Action("Editar", "Reclamo", new { id = item.ID })" title="Cambiar de estado">
                    <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 0 24 24" width="40px" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z" /></svg>
                </a> |
                <a href="@Url.Action("NuevoReporte", "Reclamo", new { id = item.ID })" title="Generar reporte">
                    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="40px" viewBox="0 0 24 24" width="40px" fill="#000000"><g><path d="M0,0h24v24H0V0z" fill="none" /></g><g><path d="M16,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V8L16,3z M19,19H5V5h10v4h4V19z M7,17h10v-2H7V17z M12,7H7 v2h5V7z M7,13h10v-2H7V13z" /></g></svg>
                </a>
            </td>
        </tr>
    }

</table>

@section Scripts {
    @Scripts.Render("~/bundles/VisorReclamos")
    @Scripts.Render("~/bundles/googleMaps")
}
